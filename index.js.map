{"version":3,"file":"index.js","sources":["../src/js/slider.js","../src/main.js"],"sourcesContent":["const slider = document.querySelector('.switch-input');\nconst body = document.querySelector('body');\n\nif (localStorage.getItem('body-style') === 'true') {\n  body.classList.add('change');\n  slider.checked = true;\n}\n\nfunction handleClick() {\n  const isChanged = slider.checked;\n  body.classList.toggle('change', isChanged);\n  localStorage.setItem('body-style', isChanged);\n}\n\nslider.addEventListener('change', handleClick);\n","import './js/slider';\nimport axios from 'axios';\n\nconst API_KEY = '7a2dfcb51e1141c71771f685e7f4e2df';\n\nconst form = document.querySelector('.search-form');\nconst btnCurrentLoc = document.querySelector('.current-location-btn');\nconst input = form.querySelector('input');\nconst contWeatherDetails = document.querySelector('.weather-details');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  getCoordinates();\n  console.log(contWeatherDetails);\n}\n\nfunction getCoordinates() {\n  const coordinatesOptions = {\n    city: input.value,\n    limit: 1,\n  };\n  fetch(\n    `http://api.openweathermap.org/geo/1.0/direct?q=${coordinatesOptions.city}&limit=${coordinatesOptions.limit}&appid=${API_KEY}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(res => {\n      console.log(res[0]);\n\n      const options = {\n        lat: res[0].lat,\n        lon: res[0].lon,\n        lang: 'ua, uk',\n        units: 'metric',\n      };\n      console.log(res[0].lat);\n      console.log(res[0].lon);\n\n      getWeather(options)\n        .then(data => {\n          console.log(data);\n          initElements(data);\n        })\n        .catch(error => console.log(error));\n    })\n    .catch(error => console.log(error));\n}\n\nfunction getWeather(options) {\n  return fetch(\n    `https://api.openweathermap.org/data/2.5/forecast?lat=${options.lat}&lon=${options.lon}&appid=${API_KEY}&lang=${options.lang}&units=${options.units}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction initElements(obj) {\n  const pTemp = document.querySelector('.main-temp');\n  const pFeelsLike = document.querySelector('.feels-like-span');\n  const timeUp = document.querySelector('.time-up');\n  const timeDown = document.querySelector('.time-down');\n\n  const contWeathIcon = document.querySelector('.weather-icon');\n  const pDesc = document.querySelector('.description');\n\n  const pHumidity = document.querySelector('.humidity');\n  const pWind = document.querySelector('.wind');\n  const pPressure = document.querySelector('.pressure');\n  const pUltraviolet = document.querySelector('.ultraviolet');\n\n  const iconDay1 = document.querySelector('.icon-day-1');\n  const tempDay1 = document.querySelector('.temp-day-1');\n  const day1 = document.querySelector('.day-1');\n\n  const iconDay2 = document.querySelector('.icon-day-2');\n  const tempDay2 = document.querySelector('.temp-day-2');\n  const day2 = document.querySelector('.day-2');\n\n  const iconDay3 = document.querySelector('.icon-day-3');\n  const tempDay3 = document.querySelector('.temp-day-3');\n  const day3 = document.querySelector('.day-3');\n\n  const iconDay4 = document.querySelector('.icon-day-4');\n  const tempDay4 = document.querySelector('.temp-day-4');\n  const day4 = document.querySelector('.day-4');\n\n  const iconDay5 = document.querySelector('.icon-day-5');\n  const tempDay5 = document.querySelector('.temp-day-5');\n  const day5 = document.querySelector('.day-5');\n\n  pTemp.textContent = `${roundNum(obj.list[0].main.temp)}°C`;\n  pFeelsLike.textContent = `${roundNum(obj.list[0].main.feels_like)}`;\n  timeUp.textContent = `${timeUpSun(obj)}`;\n  timeDown.textContent = `${timeDownSun(obj)}`;\n\n  contWeathIcon.innerHTML = `\n  <img src=\"https://openweathermap.org/img/wn/${obj.list[0].weather[0].icon}@2x.png\" alt=\"Weather icon\"/>\n  `;\n  pDesc.textContent = `${obj.list[0].weather[0].description}`;\n\n  pHumidity.textContent = `${obj.list[0].main.humidity} %`;\n  pWind.textContent = `${roundNum(obj.list[0].wind.speed)} км/г`;\n  pPressure.textContent = `${obj.list[0].main.pressure}`;\n  pUltraviolet.textContent = `${obj.list[0].clouds.all} %`;\n}\n\nfunction roundNum(num) {\n  return Math.round(num);\n}\n\nfunction timeUpSun(obj) {\n  const timestampInSeconds = obj.city.sunrise;\n\n  const timestampInMilliseconds = timestampInSeconds * 1000;\n\n  const dateObject = new Date(timestampInMilliseconds);\n\n  const hours = dateObject.getHours();\n  const minutes = dateObject.getMinutes();\n  const formattedHours = String(hours).padStart(2, '0');\n  const formattedMinutes = String(minutes).padStart(2, '0');\n\n  const formattedTime = `${formattedHours}:${formattedMinutes}`;\n  return formattedTime;\n}\n\nfunction timeDownSun(obj) {\n  const timestampInSeconds = obj.city.sunset;\n\n  const timestampInMilliseconds = timestampInSeconds * 1000;\n\n  const dateObject = new Date(timestampInMilliseconds);\n\n  const hours = dateObject.getHours();\n  const minutes = dateObject.getMinutes();\n  const formattedHours = String(hours).padStart(2, '0');\n  const formattedMinutes = String(minutes).padStart(2, '0');\n\n  const formattedTime = `${formattedHours}:${formattedMinutes}`;\n  return formattedTime;\n}\n"],"names":["slider","body","handleClick","isChanged","API_KEY","form","input","contWeatherDetails","handleSubmit","event","getCoordinates","coordinatesOptions","response","res","options","getWeather","data","initElements","error","obj","pTemp","pFeelsLike","timeUp","timeDown","contWeathIcon","pDesc","pHumidity","pWind","pPressure","pUltraviolet","roundNum","timeUpSun","timeDownSun","num","timestampInMilliseconds","dateObject","hours","minutes","formattedHours","formattedMinutes"],"mappings":"ssBAAA,MAAMA,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAO,SAAS,cAAc,MAAM,EAEtC,aAAa,QAAQ,YAAY,IAAM,SACzCA,EAAK,UAAU,IAAI,QAAQ,EAC3BD,EAAO,QAAU,IAGnB,SAASE,GAAc,CACrB,MAAMC,EAAYH,EAAO,QACzBC,EAAK,UAAU,OAAO,SAAUE,CAAS,EACzC,aAAa,QAAQ,aAAcA,CAAS,CAC9C,CAEAH,EAAO,iBAAiB,SAAUE,CAAW,ECX7C,MAAME,EAAU,mCAEVC,EAAO,SAAS,cAAc,cAAc,EAC5B,SAAS,cAAc,uBAAuB,EACpE,MAAMC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAqB,SAAS,cAAc,kBAAkB,EAEpEF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBC,IACA,QAAQ,IAAIH,CAAkB,CAChC,CAEA,SAASG,GAAiB,CACxB,MAAMC,EAAqB,CACzB,KAAML,EAAM,MACZ,MAAO,CACX,EACE,MACE,kDAAkDK,EAAmB,IAAI,UAAUA,EAAmB,KAAK,UAAUP,CAAO,EAC7H,EACE,KAAKQ,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CACX,QAAQ,IAAIA,EAAI,CAAC,CAAC,EAElB,MAAMC,EAAU,CACd,IAAKD,EAAI,CAAC,EAAE,IACZ,IAAKA,EAAI,CAAC,EAAE,IACZ,KAAM,SACN,MAAO,QACf,EACM,QAAQ,IAAIA,EAAI,CAAC,EAAE,GAAG,EACtB,QAAQ,IAAIA,EAAI,CAAC,EAAE,GAAG,EAEtBE,EAAWD,CAAO,EACf,KAAKE,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChBC,EAAaD,CAAI,CAC3B,CAAS,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAAK,EACA,MAAMA,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASH,EAAWD,EAAS,CAC3B,OAAO,MACL,wDAAwDA,EAAQ,GAAG,QAAQA,EAAQ,GAAG,UAAUV,CAAO,SAASU,EAAQ,IAAI,UAAUA,EAAQ,KAAK,EACvJ,EAAI,KAAKF,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASK,EAAaE,EAAK,CACzB,MAAMC,EAAQ,SAAS,cAAc,YAAY,EAC3CC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAgB,SAAS,cAAc,eAAe,EACtDC,EAAQ,SAAS,cAAc,cAAc,EAE7CC,EAAY,SAAS,cAAc,WAAW,EAC9CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAY,SAAS,cAAc,WAAW,EAC9CC,EAAe,SAAS,cAAc,cAAc,EAEzC,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,aAAa,EACxC,SAAS,cAAc,QAAQ,EAE3B,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,aAAa,EACxC,SAAS,cAAc,QAAQ,EAE3B,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,aAAa,EACxC,SAAS,cAAc,QAAQ,EAE3B,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,aAAa,EACxC,SAAS,cAAc,QAAQ,EAE3B,SAAS,cAAc,aAAa,EACpC,SAAS,cAAc,aAAa,EACxC,SAAS,cAAc,QAAQ,EAE5CT,EAAM,YAAc,GAAGU,EAASX,EAAI,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,KACtDE,EAAW,YAAc,GAAGS,EAASX,EAAI,KAAK,CAAC,EAAE,KAAK,UAAU,CAAC,GACjEG,EAAO,YAAc,GAAGS,EAAUZ,CAAG,CAAC,GACtCI,EAAS,YAAc,GAAGS,EAAYb,CAAG,CAAC,GAE1CK,EAAc,UAAY;AAAA,gDACoBL,EAAI,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,IAAI;AAAA,IAEzEM,EAAM,YAAc,GAAGN,EAAI,KAAK,CAAC,EAAE,QAAQ,CAAC,EAAE,WAAW,GAEzDO,EAAU,YAAc,GAAGP,EAAI,KAAK,CAAC,EAAE,KAAK,QAAQ,KACpDQ,EAAM,YAAc,GAAGG,EAASX,EAAI,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,QACvDS,EAAU,YAAc,GAAGT,EAAI,KAAK,CAAC,EAAE,KAAK,QAAQ,GACpDU,EAAa,YAAc,GAAGV,EAAI,KAAK,CAAC,EAAE,OAAO,GAAG,IACtD,CAEA,SAASW,EAASG,EAAK,CACrB,OAAO,KAAK,MAAMA,CAAG,CACvB,CAEA,SAASF,EAAUZ,EAAK,CAGtB,MAAMe,EAFqBf,EAAI,KAAK,QAEiB,IAE/CgB,EAAa,IAAI,KAAKD,CAAuB,EAE7CE,EAAQD,EAAW,WACnBE,EAAUF,EAAW,aACrBG,EAAiB,OAAOF,CAAK,EAAE,SAAS,EAAG,GAAG,EAC9CG,EAAmB,OAAOF,CAAO,EAAE,SAAS,EAAG,GAAG,EAGxD,MADsB,GAAGC,CAAc,IAAIC,CAAgB,EAE7D,CAEA,SAASP,EAAYb,EAAK,CAGxB,MAAMe,EAFqBf,EAAI,KAAK,OAEiB,IAE/CgB,EAAa,IAAI,KAAKD,CAAuB,EAE7CE,EAAQD,EAAW,WACnBE,EAAUF,EAAW,aACrBG,EAAiB,OAAOF,CAAK,EAAE,SAAS,EAAG,GAAG,EAC9CG,EAAmB,OAAOF,CAAO,EAAE,SAAS,EAAG,GAAG,EAGxD,MADsB,GAAGC,CAAc,IAAIC,CAAgB,EAE7D"}